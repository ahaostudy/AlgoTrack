<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>算法系列打卡统计</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <style>
        #content {
            width: 1000px;
            margin: auto;
        }

        .essay {
            margin-bottom: 40px;
        }

        .row {
            margin-bottom: 10px;
        }

        .row div {
            display: inline-block;
        }

        .row div img {
            width: 24px;
            border-radius: 6px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
<div id="content">
    <!--
    <div class="essay">
        <h2 class="title">Week2. Trie字典树与并查集</h2>
        <div class="row">
            <div><img src="http://127.0.0.1:5000/image/6b894967-e82c-4eeb-acfc-bef8ce1bc039.png"></div>
            <div>答案说明所有</div>
        </div>
    </div>
    -->
</div>
</body>
<script>
    BASE_URL = 'http://127.0.0.1:5000'
    let data

    function getHTML(title, users) {
        let html = '<div class="essay"><h2 class="title">' + title + '</h2>'
        for (let i = 0; i < users.length; i ++ ) {
            let user = users[i];
            html += `<div class="row">
                <div><img src="` + BASE_URL + user.avatar_url + `" alt="` + user.name + `"></div>
                <div>` + user.name + `</div>
            </div>`
        }
        return html + '</div>'
    }

    $.ajax({
        url: BASE_URL + '/comment',
        type: 'GET',
        success: res => {
            data = res.data
            for (let i = 0; i < res.data.length; i ++ ) {
                let comment = res.data[i];
                $('#content').append(getHTML(comment.title, comment.comments))
            }
        }
    })
</script>
</html>